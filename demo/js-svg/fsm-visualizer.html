<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FSM Visualizer</title>

<style>
  body {
    background: #111;
    color: #eee;
    text-align: center;
    margin: 0;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  }

  h2 {
    margin-top: 20px;
    font-weight: 600;
  }

  svg {
    width: 600px;
    height: 400px;
    margin: 0 auto;
    display: block;
  }

  .state {
    fill: #333;
    stroke: #888;
    stroke-width: 2;
  }

  .active {
    fill: #1e90ff;
  }

  .transition {
    stroke: #666;
    stroke-width: 2;
    fill: none;
    marker-end: url(#arrow);
  }

  .event {
    fill: #ffcc00;
  }

  button {
    margin: 12px 0 24px;
    padding: 6px 14px;
    font-size: 14px;
    cursor: pointer;
  }
</style>
</head>

<body>

<h2>FSM Mechanism (Event-Driven)</h2>

<svg viewBox="0 0 600 400">
  <defs>
    <marker
      id="arrow"
      markerWidth="10"
      markerHeight="10"
      refX="10"
      refY="5"
      orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#666"/>
    </marker>
  </defs>

  <!-- Transition -->
  <path class="transition" d="M240,200 L360,200"/>

  <!-- States -->
  <circle id="IDLE" class="state active" cx="200" cy="200" r="40"/>
  <text x="200" y="205" text-anchor="middle" fill="#eee">IDLE</text>

  <circle id="RUN" class="state" cx="400" cy="200" r="40"/>
  <text x="400" y="205" text-anchor="middle" fill="#eee">RUN</text>

  <!-- Event particle -->
  <circle
    id="event"
    class="event"
    cx="200"
    cy="200"
    r="6"
    visibility="hidden"/>
</svg>

<button id="startBtn">Send START event</button>

<!-- IMPORTANT: correct relative path -->
<script src="../../assets/js/fsm-visualizer.js"></script>

</body>
</html>
