<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FSM Visualizer</title>

<style>
/* =====================================================
   Global / Fullscreen
===================================================== */
html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  overflow: hidden;
  background: #111;
  color: #eee;
  font-family: system-ui, sans-serif;
}

/* =====================================================
   App Layout (FSM is the hero)
===================================================== */
.app {
  height: 100vh;
  width: 100vw;
  display: grid;
  grid-template-rows: 2.2fr 1fr; /* FSM emphasized */
}

/* =====================================================
   FSM Visualization Area
===================================================== */
.viz {
  display: grid;
  grid-template-rows: auto 1fr auto;
  align-items: center;
  justify-items: center;
}

.title {
  margin: 12px 0 4px;
  font-size: 20px;
  font-weight: 600;
}

/* SVG should fill available space */
svg {
  width: 100%;
  height: 100%;
  max-width: none;
  max-height: none;
  display: block;
}

/* FSM graphics */
.state {
  fill: #333;
  stroke: #888;
  stroke-width: 2;
}
.active {
  fill: #1e90ff;
}
.transition {
  stroke: #666;
  stroke-width: 2;
  fill: none;
  marker-end: url(#arrow);
}
.event {
  fill: #ffcc00;
}

/* Controls */
.controls {
  margin: 10px 0 14px;
}
button {
  margin: 0 6px;
  padding: 6px 16px;
  font-size: 14px;
  cursor: pointer;
}

/* =====================================================
   Transition Table Area
===================================================== */
.table-panel {
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow: auto;
  border-top: 1px solid #333;
  background: #0d0d0d;
}

.table-title {
  width: 100%;
  max-width: 720px;
  text-align: left;
  padding: 10px 0;
  font-size: 14px;
  font-weight: 600;
  opacity: 0.9;
}

table {
  width: 100%;
  max-width: 720px;
  border-collapse: collapse;
  font-size: 14px;
  margin-bottom: 14px;
}

th, td {
  border: 1px solid #555;
  padding: 6px 12px;
  text-align: center;
}

th {
  background: #222;
}

.highlight {
  background: #1e90ff;
  color: #000;
}
</style>
</head>

<body>

<div class="app">

  <!-- ================= FSM Visualization ================= -->
  <div class="viz">
    <div class="title">FSM Visualizer — Transition Table Driven</div>

    <svg viewBox="0 0 600 360" aria-label="FSM diagram">
      <defs>
        <marker id="arrow" markerWidth="10" markerHeight="10"
          refX="10" refY="5" orient="auto">
          <path d="M0,0 L10,5 L0,10 z" fill="#666"/>
        </marker>
      </defs>

      <path class="transition" d="M240,180 L360,180"/>

      <circle id="IDLE" class="state active" cx="200" cy="180" r="40"/>
      <text x="200" y="185" text-anchor="middle" fill="#eee">IDLE</text>

      <circle id="RUN" class="state" cx="400" cy="180" r="40"/>
      <text x="400" y="185" text-anchor="middle" fill="#eee">RUN</text>

      <circle id="event" class="event" cx="200" cy="180" r="6"
        visibility="hidden"/>
    </svg>

    <div class="controls">
      <button data-event="START">START</button>
      <button data-event="STOP">STOP</button>
      <button data-event="RESET">RESET</button>
    </div>
  </div>

  <!-- ================= Transition Table ================= -->
  <div class="table-panel">
    <div class="table-title">FSM Transition Table</div>

    <table id="fsmTable">
      <tr>
        <th>State \\ Event</th>
        <th>START</th>
        <th>STOP</th>
        <th>RESET</th>
      </tr>
      <tr>
        <th>IDLE</th>
        <td>RUN</td>
        <td>—</td>
        <td>IDLE</td>
      </tr>
      <tr>
        <th>RUN</th>
        <td>—</td>
        <td>IDLE</td>
        <td>IDLE</td>
      </tr>
    </table>
  </div>

</div>

<script src="../../assets/js/fsm-visualizer.js"></script>
</body>
</html>
